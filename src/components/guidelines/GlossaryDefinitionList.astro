---
import { getCollection } from "astro:content";
import { sortBy } from "lodash-es";

import { computeTermTitle } from "@/lib/guidelines";
import GlossaryDefinition from "./GlossaryDefinition.astro";

const entries = sortBy(await getCollection("terms"), (entry) =>
  computeTermTitle(entry).toLowerCase()
);
---

<dl>
  {entries.map((entry) => <GlossaryDefinition termEntry={entry} />)}
</dl>
